cluster:
  kafka:
    replicas: 3
    config:
      logRetentionHours: 48
      logRollHours: 24
    listeners:
    - name: internal
      port: 9092
      type: internal
      tls: false
    - name: external
      port: 9093
      type: loadbalancer
      tls: false
      configuration:
        bootstrap:
          loadBalancerIP: 192.168.130.122
        brokers:
          - broker: 0
            loadBalancerIP: 192.168.130.123
          - broker: 1
            loadBalancerIP: 192.168.130.124
          - broker: 2
            loadBalancerIP: 192.168.130.125
    storage:
      size: 5Gi
    {{- if .Values.storageClass }}
      class: {{ .Values.storageClass }}
    {{- end }}
    resources:
      requests:
        memory: 1Gi
        cpu: "0m"
      limits:
        memory: 2Gi
        cpu: "500m"
  zookeeper:
    replicas: 3
    storage:
      size: 5Gi
    {{- if .Values.storageClass }}
      class: {{ .Values.storageClass }}
    {{- end }}
    resources:
      requests:
        memory: 256Mi
        cpu: "0m"
      limits:
        memory: 1Gi
        cpu: "500m"
  entityOperator:
    tlsSidecar:
      resources:
        requests:
          memory: 64Mi
          cpu: "0m"
        limits:
          memory: 128Mi
          cpu: 200m
    topicOperator:
      resources:
        requests:
          memory: 256Mi
          cpu: "0m"
        limits:
          memory: 500Mi
          cpu: "400m"
    userOperator:
      resources:
        requests:
          memory: 256Mi
          cpu: "0m"
        limits:
          memory: 500Mi
          cpu: "400m"
  kafkaExporter:
    resources:
      requests:
        memory: 64Mi
        cpu: "0m"
      limits:
        memory: 254Mi
        cpu: "200m"
            
cp-helm-charts:
  cp-kafka-connect:
    enabled: false
  cp-ksql-server:
    enabled: true
    heapOptions: "-Xms1024M -Xmx2048M"
    imageTag: 6.2.1
    cp-schema-registry:
      url: http://kafka-cp-schema-registry:8081
    kafka:
      bootstrapServers: my-cluster-kafka-bootstrap:9092
    external:
      enabled: true
      
    prometheus:
      jmx:
        enabled: false
    resources:
      limits:
        cpu: 2000m
        memory: 4Gi
      requests:
        cpu: 0m
        memory: 1Gi

  cp-schema-registry:
    enabled: true
    image: confluentinc/cp-schema-registry
    imageTag: 6.2.1
    kafka:
      bootstrapServers: my-cluster-kafka-bootstrap:9092
    prometheus:
      jmx:
        enabled: false
    listeners:
    - name: internal
      port: 8081
      type: internal
      tls: false
    - name: external
      port: 8082
      type: loadbalancer
      tls: false
      configuration:
        bootstrap:
          loadBalancerIP: 192.168.131.122
        brokers:
          - broker: 0
            loadBalancerIP: 192.168.131.123
          - broker: 1
            loadBalancerIP: 192.168.131.124
          - broker: 2
            loadBalancerIP: 192.168.131.125    
    resources:
      limits:
        cpu: 600m
        memory: 1Gi
      requests:
        cpu: 0m
        memory: 256Mi

prometheus-kafka-exporter:
  enabled: false

topics: 
  - name: dlr-test
    partitions: 1
    replicas: 1
  - name: dlr-test2
    partitions: 1
    replicas: 1
  - name: dlr-scada-amps
    partitions: 1
    replicas: 1
  - name: weather-forecast-raw
    partitions: 1
    replicas: 1
  - name: vku-test
    partitions: 1
    replicas: 2
  - name: lfc-p.correction.value
    partitions: 1
    replicas: 1
  - name: lfc-p.demand.value
    partitions: 1
    replicas: 1
  - name: lfc-p.input.value
    partitions: 1
    replicas: 1
  - name: lfc-p.input.calc.state
    partitions: 1
    replicas: 1
  - name: lfc-p.target.value
    partitions: 1
    replicas: 1
  - name: lfc-p.target.calc.state
    partitions: 1
    replicas: 1
  - name: lfc-mw.diff.value
    partitions: 1
    replicas: 1
  - name: lfc-pbr.response.value
    partitions: 1
    replicas: 1
  - name: scada-analog
    partitions: 1
    replicas: 1
    config:
      retention.ms: 900000
  - name: scada-status
    partitions: 1
    replicas: 1
    config:
      retention.ms: 900000
  - name: lfc-bsp.lmol.value
    partitions: 1
    replicas: 1
  - name: lfc-bsp.activated.value
    partitions: 1
    replicas: 1    
  - name: scada-point
    partitions: 1
    replicas: 1
    config:
      retention.ms: 900000
