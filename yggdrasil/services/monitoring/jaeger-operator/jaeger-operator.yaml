jaeger-operator:
  provisionDataStore:
    cassandra: false
    elasticsearch: true
    kafka: false
  storage:
    # allowed values (cassandra, elasticsearch)
    type: elasticsearch
  elasticsearch:
    user: admin
    usePassword: true
    password: password

elasticsearch: 
  volumeClaimTemplate: 
    storageClassName: "ceph-filesystem"
  lifecycle:
    postStart:
      exec:
        command:
          - bash
          - -c
          - |
            #!/bin/bash
  #         # Add a template to adjust number of shards/replicas
            TEMPLATE_NAME=my_template
            INDEX_PATTERN="logstash-*"
            SHARD_COUNT=8
            REPLICA_COUNT=1
            ES_URL=http://localhost:9200
            while [[ "$(curl -s -o /dev/null -w '%{http_code}\n' $ES_URL)" != "200" ]]; do sleep 1; done
            curl -XPUT "$ES_URL/_template/$TEMPLATE_NAME" -H 'Content-Type: application/json' -d'{"index_patterns":['\""$INDEX_PATTERN"\"'],"settings":{"number_of_shards":'$SHARD_COUNT',"number_of_replicas":'$REPLICA_COUNT'}}'
